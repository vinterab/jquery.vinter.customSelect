/*! jquery.vinter.customSelect - v1.0.0 - 2012-08-31
* https://github.com/vinterab/jquery.vinter.customSelect/
* Copyright (c) 2012 Vinter AB; Licensed MIT */
(function(a,b){a.fn.customSelect=function(c){var d={wrapperClass:"ui-select-wrap",selectedClass:"s-selected",includeActiveItem:!1,hideText:!1,onChange:b,onInit:b,showEvent:"click",hideEvent:"click"};return c=a.extend(!0,d,c),this.each(function(){function d(){b.removeClass("s-active").find("ul").hide(),b.on(c.showEvent,e)}function e(){var e,f;b.off(c.showEvent),b.addClass("s-active").find("ul").show(),b.on("click","."+c.selectedClass,d),b.on("click","li",function(e){var f=a(e.currentTarget);c.includeActiveItem===!1&&b.find("li").show().eq(f.index()).hide(),b.find("."+c.selectedClass).html(f.data("content"));if(typeof c.onChange=="function"){var g=a("<option />",{selected:"selected",value:f.data("value"),text:f.data("text")});c.onChange(g[0])}d()})}function f(){var a=b.data("original-title");a.length>0&&b.attr("title",a),b.find("."+c.tooltipClass).remove()}function g(a){var b="";return a.data("img")&&(b+='<img src="'+a.data("img")+'" alt="'+a.text()+'" />'),c.hideText===!1&&(b+=a.text()),b}function h(){var d=a("<div />").addClass(c.wrapperClass),f=b.find("option"),h=b.find("option[selected]").length?b.find("option[selected]").eq(0):f.eq(0);d.append(a("<div />",{"class":c.selectedClass,html:g(h)}));var i=a("<ul>");for(var j=0,k=f.length,l,m;j<k;j++)l=a(f[j]),m=a("<li />",{data:{value:l.attr("value"),content:g(l),text:l.text()},html:g(l)}),i.append(m),c.includeActiveItem===!1&&j===h.index()&&m.hide();d.append(i),b.after(d),b.remove(),b=d,b.on(c.showEvent,e),typeof c.onInit=="function"&&c.onInit(b,f)}var b=a(this);h()})}})(jQuery);