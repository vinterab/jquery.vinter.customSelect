/*! jquery.vinter.customSelect - v1.1.0 - 2014-02-05\n* https://github.com/vinterab/jquery.vinter.customSelect/
* Copyright (c) 2014 Vinter AB; Licensed MIT */!function(a,b){a.fn.customSelect=function(c){var d={wrapperClass:"ui-select-wrap",selectedClass:"s-selected",includeActiveItem:!1,hideText:!1,onChange:b,onChanged:b,onInit:b,onOpen:b,onClose:b,showEvent:"click",hideEvent:"click"};return c=a.extend(!0,d,c),this.each(function(){function b(a){var b=a.data.options;g.removeClass("s-active").find("ul").hide(),g.on(c.showEvent,{options:b},d),"function"==typeof c.onClosed&&c.onClosed(b)}function d(d){var e=d.data.options;g.off(c.showEvent),g.addClass("s-active").find("ul").show(),"function"==typeof c.onOpen&&c.onOpen(e),g.on("click","."+c.selectedClass,{options:e},b),g.on("click","li",function(b){var d=a(b.currentTarget),f=d.index();c.includeActiveItem===!1&&g.find("li").show().eq(f).hide(),g.find("."+c.selectedClass).html("<span>"+d.data("content")+"</span>"),"function"==typeof c.onChange&&c.onChange(e[f]),a(h).find("option").prop("selected",!1).eq(f).prop("selected",!0),g.find("."+c.selectedClass).trigger("click"),"function"==typeof c.onChanged&&c.onChanged(e[f],f)})}function e(a){var b="";return a.data("img")&&(b+='<img src="'+a.data("img")+'" alt="'+a.text()+'" />'),c.hideText===!1&&(b+=a.data("img")?"<span>"+a.text()+"</span>":a.text()),b}function f(){var b=a("<div />").addClass(c.wrapperClass),f=h.find("option"),i=h.find("option[selected]").length?h.find("option[selected]").eq(0):f.eq(0);b.append(a("<div />",{"class":c.selectedClass,html:"<span>"+e(i)+"</span>"}));for(var j,k,l=a("<ul>"),m=0,n=f.length;n>m;m++)j=a(f[m]),k=a("<li />",{data:{value:j.attr("value"),content:e(j),text:j.text()},html:e(j)}),l.append(k),c.includeActiveItem===!1&&m===i.index()&&k.hide();b.append(l),h.after(b),h.addClass("visuallyhidden"),g=b,g.on(c.showEvent,{options:f},d),h.on("change",function(){b.find("li").eq(this.selectedIndex).trigger("click")}),"function"==typeof c.onInit&&c.onInit(g,f)}var g,h=a(this);f()})}}(jQuery);